<div class="card">
  <h2><span class="line"></span> {{ editMode ? 'Editar Estufa' : 'Registrar Nueva Estufa' }}</h2>

  <div class="form-row">
    <input [(ngModel)]="form.marca" placeholder="Marca">
    <input [(ngModel)]="form.modelo" placeholder="Modelo">
    <input [(ngModel)]="form.tipo" placeholder="Tipo">
    <input [(ngModel)]="form.potencia" type="number" placeholder="Potencia (W)">
  </div>

  <div class="form-row">
    <input [(ngModel)]="form.descripcion" placeholder="Descripción">

    <select [(ngModel)]="form.cocina">
      <option [ngValue]="null">Seleccione una Cocina</option>
      <option *ngFor="let c of cocinas" [ngValue]="c">{{ c.nombre }}</option>
    </select>

    <button class="btn-guardar" (click)="crear()">
      {{ editMode ? 'Guardar Cambios' : 'Guardar' }}
    </button>

    <button *ngIf="editMode" class="btn-cancelar" (click)="cancelarEdicion()">
      Cancelar
    </button>
  </div>
</div>

<div class="card">
  <h2><span class="line"></span> Listado de Estufas</h2>

  <table class="tabla">
    <thead>
      <tr>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Tipo</th>
        <th>Potencia</th>
        <th>Descripción</th>
        <th>Cocina</th>
        <th>Acción</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let e of estufas">
        <td>{{ e.marca }}</td>
        <td>{{ e.modelo }}</td>
        <td>{{ e.tipo }}</td>
        <td>{{ e.potencia }}</td>
        <td>{{ e.descripcion }}</td>
        <td>{{ e.cocina?.nombre ?? 'Sin asignar' }}</td>

        <td>
          <button class="btn-editar" (click)="iniciarEdicion(e)">Editar</button>
          <button class="btn-eliminar" (click)="eliminar(e)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

